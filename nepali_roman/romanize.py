#/usr/bin/env python3
# -*- coding: utf-8 -*-

from collections import OrderedDict

d2r_dict=OrderedDict([
#accounting for character differences/canonical equivalences
('ṭh', 'ṭh'),
('ṭ', 'ṭ'),
('ḍh', 'ḍh'),
('ḍ', 'ḍ'),
('ṇ', 'ṇ'),
('ṣ', 'ṣ'),
('ś', 'ś'),
('ṅ', 'ṅ'),
('ñ', 'ñ'),
('ā', 'ā'),
('ī', 'ī'),
('ū', 'ū'),
('ā̃', 'ā̃'),
#the following part might not be necessary, already taken care of above. 
('ī̃', 'ī̃'),
('ĩ', 'ĩ'),
('ū̃', 'ū̃'),
('ũ', 'ũ'),
('ẽ', 'ẽ'),
('õ', 'õ'),
('ã', 'ã'),

('ā̃', 'ā ̃'),
('aĩ', 'ai ̃'),
('aũ', 'au ̃'),
('ī̃', 'ī ̃'),
('ĩ', 'i ̃'),
('ū̃', 'ū ̃'),
('ũ', 'u ̃'),
('ẽ', 'e ̃'),
('õ', 'o ̃'),
('ã', 'a ̃'),
(' ̃', 'ँ'),
    
('ṃ', 'ं'),
('ḥ', 'ः'),   

('khā', 'खा'),
('kā', 'का'),
('ghā', 'घा'),
('gā', 'गा'),
('ṅā', 'ङा'),
('chā', 'छा'),
('cā', 'चा'),
('jhā', 'झा'),
('jā', 'जा'),
('ñā', 'ञा'),
('ṭhā', 'ठा'),
('ṭā', 'टा'),
('ḍhā', 'ढा'),
('ḍā', 'डा'),
('ṇā', 'णा'),
('thā', 'था'),
('tā', 'ता'),
('dhā', 'धा'),
('dā', 'दा'),
('nā', 'ना'),
('phā', 'फा'),
('pā', 'पा'),
('bhā', 'भा'),
('bā', 'बा'),
('mā', 'मा'),
('yā', 'या'),
('rā', 'रा'),
('lā', 'ला'),
('vā', 'वा'),
('wā', 'वा'),
('śā', 'शा'),
('ṣā', 'षा'),
('sā', 'सा'),
('hā', 'हा'),
('khai', 'खै'),
('kai', 'कै'),
('ghai', 'घै'),
('gai', 'गै'),
('ṅai', 'ङै'),
('chai', 'छै'),
('cai', 'चै'),
('jhai', 'झै'),
('jai', 'जै'),
('ñai', 'ञै'),
('ṭhai', 'ठै'),
('ṭai', 'टै'),
('ḍhai', 'ढै'),
('ḍai', 'डै'),
('ṇai', 'णै'),
('thai', 'थै'),
('tai', 'तै'),
('dhai', 'धै'),
('dai', 'दै'),
('nai', 'नै'),
('phai', 'फै'),
('pai', 'पै'),
('bhai', 'भै'),
('bai', 'बै'),
('mai', 'मै'),
('yai', 'यै'),
('rai', 'रै'),
('lai', 'लै'),
('vai', 'वै'),
('wai', 'वै'),
('śai', 'शै'),
('ṣai', 'षै'),
('sai', 'सै'),
('hai', 'है'),
('khau', 'खौ'),
('kau', 'कौ'),
('ghau', 'घौ'),
('gau', 'गौ'),
('ṅau', 'ङौ'),
('chau', 'छौ'),
('cau', 'चौ'),
('jhau', 'झौ'),
('jau', 'जौ'),
('ñau', 'ञौ'),
('ṭhau', 'ठौ'),
('ṭau', 'टौ'),
('ḍhau', 'ढौ'),
('ḍau', 'डौ'),
('ṇau', 'णौ'),
('thau', 'थौ'),
('tau', 'तौ'),
('dhau', 'धौ'),
('dau', 'दौ'),
('nau', 'नौ'),
('phau', 'फौ'),
('pau', 'पौ'),
('bhau', 'भौ'),
('bau', 'बौ'),
('mau', 'मौ'),
('yau', 'यौ'),
('rau', 'रौ'),
('lau', 'लौ'),
('vau', 'वौ'),
('wau', 'वौ'),
('śau', 'शौ'),
('ṣau', 'षौ'),
('sau', 'सौ'),
('hau', 'हौ'),
('khī', 'खी'),
('kī', 'की'),
('ghī', 'घी'),
('gī', 'गी'),
('ṅī', 'ङी'),
('chī', 'छी'),
('cī', 'ची'),
('jhī', 'झी'),
('jī', 'जी'),
('ñī', 'ञी'),
('ṭhī', 'ठी'),
('ṭī', 'टी'),
('ḍhī', 'ढी'),
('ḍī', 'डी'),
('ṇī', 'णी'),
('thī', 'थी'),
('tī', 'ती'),
('dhī', 'धी'),
('dī', 'दी'),
('nī', 'नी'),
('phī', 'फी'),
('pī', 'पी'),
('bhī', 'भी'),
('bī', 'बी'),
('mī', 'मी'),
('yī', 'यी'),
('rī', 'री'),
('lī', 'ली'),
('vī', 'वी'),
('wī', 'वी'),
('śī', 'शी'),
('ṣī', 'षी'),
('sī', 'सी'),
('hī', 'ही'),
('khi', 'खि'),
('ki', 'कि'),
('ghi', 'घि'),
('gi', 'गि'),
('ṅi', 'ङि'),
('chi', 'छि'),
('ci', 'चि'),
('jhi', 'झि'),
('ji', 'जि'),
('ñi', 'ञि'),
('ṭhi', 'ठि'),
('ṭi', 'टि'),
('ḍhi', 'ढि'),
('ḍi', 'डि'),
('ṇi', 'णि'),
('thi', 'थि'),
('ti', 'ति'),
('dhi', 'धि'),
('di', 'दि'),
('ni', 'नि'),
('phi', 'फि'),
('pi', 'पि'),
('bhi', 'भि'),
('bi', 'बि'),
('mi', 'मि'),
('yi', 'यि'),
('ri', 'रि'),
('li', 'लि'),
('vi', 'वि'),
('wi', 'वि'),
('śi', 'शि'),
('ṣi', 'षि'),
('si', 'सि'),
('hi', 'हि'),
('khū', 'खू'),
('kū', 'कू'),
('ghū', 'घू'),
('gū', 'गू'),
('ṇū', 'ङू'),
('chū', 'छू'),
('cū', 'चू'),
('jhū', 'झू'),
('jū', 'जू'),
('ñū', 'ञू'),
('ṭhū', 'ठू'),
('ṭū', 'टू'),
('ḍhū', 'ढू'),
('ḍū', 'डू'),
('ṇū', 'णू'),
('thū', 'थू'),
('tū', 'तू'),
('dhū', 'धू'),
('dū', 'दू'),
('nū', 'नू'),
('phū', 'फू'),
('pū', 'पू'),
('bhū', 'भू'),
('bū', 'बू'),
('mū', 'मू'),
('yū', 'यू'),
('rū', 'रू'),
('lū', 'लू'),
('vū', 'वू'),
('wū', 'वू'),
('śū', 'शू'),
('ṣū', 'षू'),
('sū', 'सू'),
('hū', 'हू'),
('khu', 'खु'),
('ku', 'कु'),
('ghu', 'घु'),
('gu', 'गु'),
('ṅu', 'ङु'),
('chu', 'छु'),
('cu', 'चु'),
('jhu', 'झु'),
('ju', 'जु'),
('ñu', 'ञु'),
('ṭhu', 'ठु'),
('ṭu', 'टु'),
('ḍhu', 'ढु'),
('ḍu', 'डु'),
('ṇu', 'णु'),
('thu', 'थु'),
('tu', 'तु'),
('dhu', 'धु'),
('du', 'दु'),
('nu', 'नु'),
('phu', 'फु'),
('pu', 'पु'),
('bhu', 'भु'),
('bu', 'बु'),
('mu', 'मु'),
('yu', 'यु'),
('ru', 'रु'),
('lu', 'लु'),
('vu', 'वु'),
('wu', 'वु'),
('śu', 'शु'),
('ṣu', 'षु'),
('su', 'सु'),
('hu', 'हु'),
('khe', 'खे'),
('ke', 'के'),
('ghe', 'घे'),
('ge', 'गे'),
('ṅe', 'ङे'),
('che', 'छे'),
('ce', 'चे'),
('jhe', 'झे'),
('je', 'जे'),
('ñe', 'ञे'),
('ṭhe', 'ठे'),
('ṭe', 'टे'),
('ḍhe', 'ढे'),
('ḍe', 'डे'),
('ṇe', 'णे'),
('the', 'थे'),
('te', 'ते'),
('dhe', 'धे'),
('de', 'दे'),
('ne', 'ने'),
('phe', 'फे'),
('pe', 'पे'),
('bhe', 'भे'),
('be', 'बे'),
('me', 'मे'),
('ye', 'ये'),
('re', 'रे'),
('le', 'ले'),
('ve', 'वे'),
('we', 'वे'),
('śe', 'शे'),
('ṣe', 'षे'),
('se', 'से'),
('he', 'हे'),
('kho', 'खो'),
('ko', 'को'),
('gho', 'घो'),
('go', 'गो'),
('ṅo', 'ङो'),
('cho', 'छो'),
('co', 'चो'),
('jho', 'झो'),
('jo', 'जो'),
('ño', 'ञो'),
('ṭho', 'ठो'),
('ṭo', 'टो'),
('ḍho', 'ढो'),
('ḍo', 'डो'),
('ṇo', 'णो'),
('tho', 'थो'),
('to', 'तो'),
('dho', 'धो'),
('do', 'दो'),
('no', 'नो'),
('pho', 'फो'),
('po', 'पो'),
('bho', 'भो'),
('bo', 'बो'),
('mo', 'मो'),
('yo', 'यो'),
('ro', 'रो'),
('lo', 'लो'),
('vo', 'वो'),
('wo', 'वो'),
('śo', 'शो'),
('ṣo', 'षो'),
('so', 'सो'),
('ho', 'हो'),
('kha', 'ख'),
('ka', 'क'),
('gha', 'घ'),
('ga', 'ग'),
('ṅa', 'ङ'),
('cha', 'छ'),
('ca', 'च'),
('jha', 'झ'),
('ja', 'ज'),
('ña', 'ञ'),
('ṭha', 'ठ'),
('ṭa', 'ट'),
('ḍha', 'ढ'),
('ḍa', 'ड'),
('ṇa', 'ण'),
('tha', 'थ'),
('ta', 'त'),
('dha', 'ध'),
('da', 'द'),
('na', 'न'),
('pha', 'फ'),
('pa', 'प'),
('bha', 'भ'),
('ba', 'ब'),
('ma', 'म'),
('ya', 'य'),
('ra', 'र'),
('la', 'ल'),
('va', 'व'),
('wa', 'व'),
('śa', 'श'),
('ṣa', 'ष'),
('sa', 'स'),
('ha', 'ह'),

('r̥', 'ृ'),

('kh', 'ख्'),
('k', 'क्'),
('gh', 'घ्'),
('g', 'ग्'),
('ṅ', 'ङ्'),

('ch', 'छ्'),
('c', 'च्'),
('jh', 'झ्'),
('j', 'ज्'),
('ñ', 'ञ्'),

('ṭh', 'ठ्'),
('ṭ', 'ट्'),
('ḍh', 'ढ्'),
('ḍ', 'ड्'),
('ṇ', 'ण्'),

('th', 'थ्'),
('t', 'त्'),
('dh', 'ध्'),
('d', 'द्'),
('n', 'न्'),

('ph', 'फ्'),
('p', 'प्'),
('bh', 'भ्'),
('b', 'ब्'),
('m', 'म्'),

('y', 'य्'),
('r', 'र्'),
('l', 'ल्'),
('v', 'व्'),
('w', 'व्'),
('ś', 'श्'),
('ṣ', 'ष्'),
('s', 'स्'),
('h', 'ह्'),

('ā', 'आ'),
('ai', 'ऐ'),
('au', 'औ'),
('ī', 'ई'),
('i', 'इ'),
('ū', 'ऊ'),
('u', 'उ'),
('e', 'ए'),
('o', 'ओ'),
('a', 'अ'),

#at the end, after all the other vowel combinations

(':', ''),

('् ', ' '),
('्,', ','),
('्)', ')'),
('्-', '-'),
('्;', ';'),
('्\n', '\n'),

#deletes U+200D ZERO WIDTH JOINER [ZWJ] and U+200C ZERO WIDTH NON-JOINER [ZWNJ] which were showing up untransliterated
('‍', ''),
('‌', ''),
])


def is_de

anagari(text):
    text = "".join(i for i in text if i.isalnum())
    return (sum(True for i in text if ord(i) in range(2304, 2432)) / len(text)) >= 0.5

def romanize_text(text):
    dict = {}
    if type(text) == float:
        return
    for key, value in d2r_dict.items():
        text = text.replace(key, value)
        dict[value] = text

    print (text)
    return (text)

#export
import sys

stdoutOrigin = sys.stdout
sys.stdout = open('roman.csv', 'w')
#import
with open('nepali.csv', 'r') as f:
    f_contents = f.read()

romanize_text(f_contents)
